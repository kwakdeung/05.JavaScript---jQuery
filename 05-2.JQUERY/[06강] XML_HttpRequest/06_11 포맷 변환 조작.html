<!DOCTYPE html>
<html>
<head> 
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   
    <title>XMLHttpRequest</title>
    <script src="xml2json.js"></script>
</head>
<body>
    <script>
        
        // XMLHttpRequset 객체를 생성합니다.
        var request = new XMLHttpRequest();
        request.onreadystatechange = function (event) {
            if (request.readyState == 4) {
                if (request.status == 200) {
                    // 변수를 선언합니다.                    
                    var json = xml2json.parser(request.responseText);
                    console.log(json);
                    console.log(json.root.datas.data.length);

                    // 이용합니다.                                        
                    for (var i = 0; i < json.root.datas.data.length; i++) { 
                        document.body.innerHTML += '<h1>' + json.root.datas.data[i].name + '</h1>';
                        document.body.innerHTML += '<h2>' + json.root.datas.data[i].price + '</h2>';

                    }
                }                    
            };
        };
        request.open('GET', '/data.xml', true);
        request.send();            
    </script>    
</body>
</html>

